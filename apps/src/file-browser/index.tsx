import { AppContext, AppInfo } from '@webby/core/web-app';
import React from 'react';
import ReactDom from 'react-dom/client';
import FileBrowser from './file';

const iconUrl = 'data:image/jpeg;base64,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';

let root: ReactDom.Root;
export async function mount(ctx: AppContext) {
  root = ReactDom.createRoot(ctx.appRootEl);
  root.render(<FileBrowser />)
}

export async function unmount(ctx: AppContext) {
  root?.unmount();
}

export function getAppInfo(): AppInfo {
  return {
    name: 'Files',
    iconUrl,
    width: 500,
    height: 500,
  }
}
